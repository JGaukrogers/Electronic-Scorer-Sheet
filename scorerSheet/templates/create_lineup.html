{% extends "base.html" %}

{# Load the tag library #}
{% load bootstrap5 %}

{# Load CSS and JavaScript #}
{% bootstrap_css %}
{% bootstrap_javascript %}

{# Display django.contrib.messages as Bootstrap alerts #}
{% bootstrap_messages %}

{% block content %}
<div>
    <button type="button">
        <a href="{% url 'add_player' game_id team_id %}">Add a new player</a>
    </button>
</div>
<div>
    <form action="" method="post">
        {% csrf_token %}
        <h1>Add players for team {{team_name}}</h1>
        {% include 'messages.html' %}
        <table>
            <tr>
                <td></td>
                <td>Player's Name</td>
                <td>Defensive position</td>
                <td><!-- Enter inning --></td>
            </tr>
        {{ team_formset.management_form }}
        {% for form in team_formset.forms %}
            <tr>
                <td>{{form.id}}</td>
                <td>{{form.player}}</td>
                <td>{{form.defensive_position}}</td>
                <td>{{form.enter_inning.as_hidden}}</td>
            </tr>
        {% endfor %}
        </table>

        {% buttons %}
        <button type="submit" class="btn btn-primary">
            Subit Team
        </button>
        {% endbuttons %}

    </form>
</div>
{% endblock %}
